<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Murat Bilgisayar - Antalya'da ikinci el bilgisayar satÄ±ÅŸÄ± ve teknik servis hizmetleri.">
    <meta name="keywords" content="Antalya ikinci el bilgisayar, bilgisayar parÃ§alarÄ±, teknik servis, Murat Bilgisayar">
    <meta name="author" content="Murat Bilgisayar">
    <meta name="theme-color" content="#6366f1">
    <title>Murat Bilgisayar | Antalya Ä°kinci El Bilgisayar & Teknik Servis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gradient-to-br from-slate-50 to-purple-50;
        }

        .gradient-bg {
            @apply bg-gradient-to-r from-indigo-600 to-purple-600;
        }

        .product-card {
            @apply transition-all duration-300 hover:-translate-y-2;
            box-shadow: 0 4px 24px -6px rgba(0, 0, 0, 0.1);
        }

        .slider-item {
            scroll-snap-align: start;
        }

        #slider-container::-webkit-scrollbar {
            @apply h-2;
        }

        #slider-container::-webkit-scrollbar-track {
            @apply bg-slate-100 rounded-full;
        }

        #slider-container::-webkit-scrollbar-thumb {
            @apply bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="gradient-bg text-white sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <a href="#" class="text-2xl font-bold tracking-tight">Murat Bilgisayar</a>
            <div class="space-x-6 hidden md:flex">
                <a href="#slider" class="hover:text-indigo-200">Ã–ne Ã‡Ä±kanlar</a>
                <a href="#hot-products" class="hover:text-indigo-200">SÄ±cak ÃœrÃ¼nler</a>
                <a href="#all-products" class="hover:text-indigo-200">TÃ¼m ÃœrÃ¼nler</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="container mx-auto px-4 py-16 text-center">
        <h1 class="text-5xl font-bold text-slate-800 mb-6">
            Antalya'nÄ±n En GÃ¼venilir <span class="text-indigo-600">Bilgisayar</span> MaÄŸazasÄ±
        </h1>
        <p class="text-xl text-slate-600 mb-8 max-w-2xl mx-auto">
            Uygun fiyatlÄ± ikinci el bilgisayarlar ve profesyonel teknik servis hizmetiyle hizmetinizdeyiz.
        </p>
    </header>

    <!-- Slider -->
    <section id="slider" class="container mx-auto px-4 py-12">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-3xl font-bold text-slate-800">Ã–ne Ã‡Ä±kan ÃœrÃ¼nler</h2>
            <div class="space-x-4">
                <button class="slider-arrow px-3 py-1 rounded-full bg-white shadow-md">
                    <i class="fas fa-chevron-left text-indigo-600"></i>
                </button>
                <button class="slider-arrow px-3 py-1 rounded-full bg-white shadow-md">
                    <i class="fas fa-chevron-right text-indigo-600"></i>
                </button>
            </div>
        </div>
        <div id="slider-container" class="flex overflow-x-auto snap-x snap-mandatory gap-6 pb-6"></div>
    </section>

    <!-- Hot Products -->
    <section id="hot-products" class="container mx-auto px-4 py-12 bg-white/50 backdrop-blur-lg">
        <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">SÄ±cak ÃœrÃ¼nler ðŸ”¥</h2>
        <div id="hot-products-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
    </section>

    <!-- All Products -->
    <section id="all-products" class="container mx-auto px-4 py-12">
        <div class="max-w-2xl mx-auto mb-12">
            <div class="relative">
                <input type="text" id="search" placeholder="ÃœrÃ¼n ara..." 
                       class="w-full px-6 py-3 rounded-full border-0 shadow-lg focus:ring-2 focus:ring-indigo-600">
                <select id="category-filter" 
                        class="absolute right-3 top-2 bg-white px-4 py-2 rounded-full shadow-sm border-0 focus:ring-2 focus:ring-indigo-600">
                    <option value="all">TÃ¼m Kategoriler</option>
                </select>
            </div>
        </div>
        <div id="all-products-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
    </section>

    <script>
         document.addEventListener("DOMContentLoaded", function () {
            // API Endpoint'leri
            const API_BASE = 'https://script.google.com/macros/s/AKfycbwsmTdlj_ZnS8qfLZDCREFrQLewBWnJipeRaowcMDZABRud6NKfF_0SWqIBQTUMeqDf/exec?sheet=';
            
            // Slider Navigation
            let sliderPosition = 0;
            const sliderContainer = document.getElementById('slider-container');

            // Fetch Data with error handling
            async function fetchData() {
                try {
                    const [sliderRes, hotRes, allRes] = await Promise.all([
                        fetch(`${API_BASE}slider`),
                        fetch(`${API_BASE}sicakurunler`),
                        fetch(`${API_BASE}tumurunler`)
                    ]);

                    if (!sliderRes.ok || !hotRes.ok || !allRes.ok) throw new Error('API Error');

                    const [sliderData, hotProductsData, allProductsData] = await Promise.all([
                        sliderRes.json(),
                        hotRes.json(),
                        allRes.json()
                    ]);

                    renderSlider(sliderData);
                    renderHotProducts(hotProductsData);
                    renderAllProducts(allProductsData);

                } catch (error) {
                    console.error('API Error:', error);
                    showError('ÃœrÃ¼n bilgileri yÃ¼klenirken bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyiniz.');
                }
            }

            function showError(message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded';
                errorDiv.innerHTML = `
                    <strong>Hata!</strong> ${message}
                    <button onclick="this.parentElement.remove()" class="ml-4 text-red-900">Ã—</button>
                `;
                document.body.appendChild(errorDiv);
            }

            // Render Functions (Veri yapÄ±sÄ± orijinal API'ye gÃ¶re gÃ¼ncellendi)
            function createProductCard(item) {
                return `
                    <div class="product-card bg-white rounded-xl p-6">
                        <div class="relative mb-4 rounded-lg overflow-hidden aspect-square">
                            <img src="${item.Ã¼rÃ¼nresmiurl}" alt="${item.Ã¼rÃ¼niÌ‡smi}" 
                                 class="w-full h-full object-cover hover:scale-105 transition-transform duration-300">
                        </div>
                        <h3 class="text-lg font-semibold text-slate-800 mb-2">${item.Ã¼rÃ¼niÌ‡smi}</h3>
                        <p class="text-gray-600 mb-3">${item.Ã¼rÃ¼naÃ§Ä±klamasÄ±}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xl font-bold text-indigo-600">${item.fiyat} TL</span>
                            <button class="px-4 py-2 bg-indigo-100 text-indigo-600 rounded-full hover:bg-indigo-200">
                                Detaylar <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                `;
            }

            function renderSlider(data) {
                sliderContainer.innerHTML = data.map(item => `
                    <div class="slider-item min-w-[85%] md:min-w-[45%] xl:min-w-[30%]">
                        <div class="relative group rounded-2xl overflow-hidden">
                            <img src="${item.fotoÄŸrafurl}" alt="${item.baslik}" 
                                 class="w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent p-6 flex items-end">
                                <div>
                                    <h3 class="text-2xl font-bold text-white mb-2">${item.baslik}</h3>
                                    <p class="text-gray-200">${item.aÃ§Ä±klama}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            function renderHotProducts(data) {
                document.getElementById('hot-products-container').innerHTML = data.map(createProductCard).join('');
            }

            function renderAllProducts(data) {
                const categories = [...new Set(data.map(item => item.kategori))];
                const categoryFilter = document.getElementById('category-filter');
                
                categories.forEach(cat => {
                    categoryFilter.innerHTML += `<option value="${cat}">${cat}</option>`;
                });

                const filterProducts = () => {
                    const search = document.getElementById('search').value.toLowerCase();
                    const category = categoryFilter.value;
                    
                    const filtered = data.filter(item => 
                        item.Ã¼rÃ¼niÌ‡smi.toLowerCase().includes(search) &&
                        (category === 'all' || item.kategori === category)
                    );
                    
                    document.getElementById('all-products-container').innerHTML = 
                        filtered.map(createProductCard).join('');
                };

                document.getElementById('search').addEventListener('input', filterProducts);
                categoryFilter.addEventListener('change', filterProducts);
                filterProducts();
            }

            fetchData();
        });
    </script>
</body>
</html>

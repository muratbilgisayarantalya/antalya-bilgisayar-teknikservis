<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Murat Bilgisayar - Antalya'da ikinci el bilgisayar satÄ±ÅŸÄ± ve teknik servis hizmetleri.">
    <meta name="keywords" content="Antalya ikinci el bilgisayar, bilgisayar parÃ§alarÄ±, teknik servis, Murat Bilgisayar">
    <meta name="author" content="Murat Bilgisayar">
    <meta name="theme-color" content="#6366f1">
    <title>Murat Bilgisayar | Antalya Ä°kinci El Bilgisayar & Teknik Servis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gradient-to-br from-slate-50 to-purple-50;
        }

        .modal {
            @apply fixed inset-0 bg-black/50 z-50 hidden items-center justify-center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="bg-indigo-600 text-white sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <a href="#" class="text-xl font-bold">Murat Bilgisayar</a>
            <div class="flex gap-6">
                <a href="#slider" class="hover:text-indigo-200">Kampanyalar</a>
                <a href="#hot-products" class="hover:text-indigo-200">Ã–ne Ã‡Ä±kanlar</a>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <header class="container mx-auto px-4 py-16 text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-4">
            Antalya'nÄ±n En Kaliteli <span class="text-indigo-600">Bilgisayar</span> MaÄŸazasÄ±
        </h1>
    </header>

    <!-- ÃœrÃ¼nler -->
    <main class="container mx-auto px-4">
        <section id="hot-products" class="mb-16">
            <h2 class="text-2xl font-bold mb-6">Ã–ne Ã‡Ä±kan ÃœrÃ¼nler ðŸ”¥</h2>
            <div id="hot-products-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>
    </main>

    <!-- Modal -->
    <div id="productModal" class="modal hidden">
        <div class="bg-white rounded-xl p-6 max-w-2xl w-full mx-4 relative animate-scaleIn">
            <button id="modalClose" class="absolute top-4 right-4 text-2xl text-gray-500 hover:text-red-500">&times;</button>
            <div id="modalContent" class="grid md:grid-cols-2 gap-8"></div>
        </div>
    </div>

    <script>
        const API_URL = 'https://script.google.com/macros/s/AKfycbxq_V0VUaQqzjoqtLrNx9rlL7T7QPY2m37P_Kh6a6uFc8waHZYfasUiNv62EdzG7kcr/exec';
        let allProducts = [];

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const [hotRes, allRes] = await Promise.all([
                    fetch(`${API_URL}?sheet=sicakurunler`),
                    fetch(`${API_URL}?sheet=tumurunler`)
                ]);

                const [hotProducts, allProductsData] = await Promise.all([
                    hotRes.json(),
                    allRes.json()
                ]);

                allProducts = allProductsData;
                renderProducts(hotProducts, 'hot-products-container');
                renderProducts(allProductsData, 'all-products-container');
            } catch (error) {
                console.error('API HatasÄ±:', error);
            }
        });

        function renderProducts(products, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = products.map(product => `
                <div class="product-card bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-shadow">
                    <div class="aspect-square mb-4 rounded-lg overflow-hidden">
                        <img src="${product['Ã¼rÃ¼nresmiurlâ€™si'] || 'https://via.placeholder.com/400'}" 
                             class="w-full h-full object-contain"
                             loading="lazy">
                    </div>
                    <h3 class="font-semibold mb-2">${product['Ã¼rÃ¼niÌ‡smi']}</h3>
                    <div class="flex justify-between items-end">
                        <span class="text-indigo-600 font-bold text-xl">
                            ${new Intl.NumberFormat('tr-TR').format(product['fiyat(tl)'])} TL
                        </span>
                        <button class="detail-btn px-3 py-1 bg-indigo-100 text-indigo-600 rounded-full" 
                                data-id="${product.id}">
                            Detaylar
                        </button>
                    </div>
                </div>
            `).join('');

            document.querySelectorAll('.detail-btn').forEach(btn => {
                btn.addEventListener('click', () => showProductDetails(btn.dataset.id));
            });
        }

        function showProductDetails(productId) {
            const product = allProducts.find(p => p.id == productId);
            if (!product) return;

            const modalContent = `
                <div class="md:col-span-1">
                    <img src="${product['Ã¼rÃ¼nresmiurlâ€™si']}" 
                         class="w-full h-64 object-contain">
                </div>
                <div class="space-y-4">
                    <h2 class="text-2xl font-bold">${product['Ã¼rÃ¼niÌ‡smi']}</h2>
                    <div class="text-xl font-bold text-indigo-600">
                        ${new Intl.NumberFormat('tr-TR').format(product['fiyat(tl)'])} TL
                    </div>
                    <div class="bg-gray-100 px-3 py-1 rounded-full inline-block">
                        ${product.kategori}
                    </div>
                    <p class="text-gray-600">${product['Ã¼rÃ¼naÃ§Ä±klamasÄ±']}</p>
                </div>
            `;

            document.getElementById('modalContent').innerHTML = modalContent;
            const modal = document.getElementById('productModal');
            modal.classList.remove('hidden');
        }

        // Modal Close
        document.getElementById('modalClose').addEventListener('click', () => {
            document.getElementById('productModal').classList.add('hidden');
        });

        window.addEventListener('click', (e) => {
            const modal = document.getElementById('productModal');
            if (e.target === modal) modal.classList.add('hidden');
        });

        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') document.getElementById('productModal').classList.add('hidden');
        });
    </script>
</body>

</html>

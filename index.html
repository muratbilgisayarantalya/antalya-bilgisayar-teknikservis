<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Murat Bilgisayar - Antalya'da ikinci el bilgisayar satÄ±ÅŸÄ± ve teknik servis hizmetleri.">
    <meta name="keywords" content="Antalya ikinci el bilgisayar, bilgisayar parÃ§alarÄ±, teknik servis, Murat Bilgisayar">
    <meta name="author" content="Murat Bilgisayar">
    <meta name="theme-color" content="#1e293b">
    <title>Murat Bilgisayar | Antalya Ä°kinci El Bilgisayar & Teknik Servis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
    <style>
        body { background-color: #0f172a; color: #f1f5f9; overflow-x: hidden; }
        .glass { backdrop-filter: blur(16px); background-color: rgba(30,41,59,0.7); border-radius: 1.25rem; transition: 0.3s; }
        .glass:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .section-title { font-size: 2rem; font-weight: 700; text-align: center; background: linear-gradient(45deg,#60a5fa,#3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>

<body class="min-h-screen">
    <header class="py-16 text-center">
        <h1 class="text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-600">Murat Bilgisayar</h1>
        <p class="text-xl text-blue-200">Antalya Ä°kinci El Bilgisayar & Teknik Servis</p>
    </header>

    <main class="container mx-auto px-4 pb-16">
        <section id="search-section" class="mb-12">
            <div class="flex flex-col md:flex-row gap-4">
                <input id="searchInput" type="text" class="search-input w-full p-3 rounded-lg bg-gray-800" placeholder="ÃœrÃ¼n ara...">
                <select id="categoryFilter" class="search-input md:w-1/4 p-3 rounded-lg bg-gray-800">
                    <option value="">TÃ¼m Kategoriler</option>
                    <option value="Laptop">Laptop</option>
                    <option value="Gaming Laptop">Gaming Laptop</option>
                    <option value="Ekran KartÄ±">Ekran KartÄ±</option>
                    <option value="RAM">RAM</option>
                </select>
            </div>
        </section>

        <section id="slider" class="mb-16 rounded-2xl overflow-hidden shadow-2xl"></section>
        <section id="hot-products" class="mb-16"><h2 class="section-title">ðŸ”¥ SÄ±cak ÃœrÃ¼nler</h2><div id="hotProducts" class="grid gap-8"></div></section>
        <section id="all-products"><h2 class="section-title">ðŸ’» TÃ¼m ÃœrÃ¼nler</h2><div id="allProducts" class="grid gap-8"></div></section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const API_BASE = 'https://script.google.com/macros/s/AKfycbwsmTdlj_ZnS8qfLZDCREFrQLewBWnJipeRaowcMDZABRud6NKfF_0SWqIBQTUMeqDf/exec';

            async function fetchData(sheet, search = '', category = '') {
                try {
                    const res = await axios.get(`${API_BASE}?sheet=${sheet}${search ? `&search=${search}` : ''}${category ? `&category=${category}` : ''}`);
                    return res.data;
                } catch (error) { console.error('API HatasÄ±:', error); return []; }
            }

            function renderSlider(sliderData) {
                const slider = document.getElementById('slider');
                if (!sliderData.length) { slider.innerHTML = '<p>Slider iÃ§eriÄŸi bulunamadÄ±.</p>'; return; }
                slider.innerHTML = sliderData.map(item => `<img src="${item.fotoÄŸrafurl}" class="w-full h-96 object-cover">`).join('');
            }

            function renderProducts(products, containerId) {
                const container = document.getElementById(containerId);
                container.innerHTML = products.length ? products.map(p => `
                    <div class="product-card glass p-4">
                        <img src="${p.Ã¼rÃ¼nresmiurl}" class="w-full h-48 object-cover rounded-t-xl" alt="${p.Ã¼rÃ¼nismi}">
                        <h3 class="text-lg font-semibold">${p.Ã¼rÃ¼nismi}</h3>
                        <p class="text-green-400">${p.fiyat} TL</p>
                    </div>
                `).join('') : '<p>ÃœrÃ¼n bulunamadÄ±.</p>';
            }

            async function init() {
                const [slider, hotProducts, allProducts] = await Promise.all([
                    fetchData('slider'), fetchData('sicakurunler'), fetchData('tumurunler')
                ]);
                renderSlider(slider);
                renderProducts(hotProducts, 'hotProducts');
                renderProducts(allProducts, 'allProducts');
            }

            document.getElementById('searchInput').addEventListener('input', async (e) => {
                const allProducts = await fetchData('tumurunler', e.target.value);
                renderProducts(allProducts, 'allProducts');
            });

            document.getElementById('categoryFilter').addEventListener('change', async (e) => {
                const allProducts = await fetchData('tumurunler', '', e.target.value);
                renderProducts(allProducts, 'allProducts');
            });

            init();
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Murat Bilgisayar - Antalya'da ikinci el bilgisayar satÄ±ÅŸÄ± ve teknik servis hizmetleri. Kaliteli ikinci el bilgisayarlar ve bilgisayar parÃ§alarÄ±, uzman teknik destek.">
    <meta name="keywords" content="Antalya ikinci el bilgisayar, ikinci el bilgisayar parÃ§alarÄ±, teknik servis, Murat Bilgisayar, uygun fiyatlÄ± bilgisayar, bilgisayar onarÄ±mÄ±">
    <meta name="author" content="Murat Bilgisayar">
    <meta name="theme-color" content="#1e293b">
    <title>Murat Bilgisayar | Antalya Ä°kinci El Bilgisayar & Teknik Servis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body {
            background-color: #0f172a;
            color: #f1f5f9;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Daha modern font */
            overflow-x: hidden; /* Yatay kaymayÄ± Ã¶nler */
        }

        /* Splash Screen Stilleri */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: #0f172a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* En Ã¼stte gÃ¶rÃ¼nmesi iÃ§in */
            flex-direction: column;
        }

        .splash-logo {
            width: 150px; /* Logo boyutunu ayarlayÄ±n */
            margin-bottom: 20px;
            animation: pulse 2s infinite; /* Logo iÃ§in nabÄ±z animasyonu */
        }

        .splash-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #f1f5f9;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }


        .glass {
            backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 1.25rem; /* Daha yuvarlak */
            border: 1px solid rgba(255, 255, 255, 0.125);
            padding: 1.5rem; /* Ä°Ã§ boÅŸluk arttÄ±rÄ±ldÄ± */
        }

        .product-card:hover {
            transform: scale(1.03); /* Daha az bÃ¼yÃ¼me */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; /* YumuÅŸak geÃ§iÅŸ ve gÃ¶lge */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Hover efekti iÃ§in gÃ¶lge */
        }

        ::-webkit-scrollbar { width: 10px; } /* Scrollbar geniÅŸliÄŸi */
        ::-webkit-scrollbar-thumb {
            background-color: #64748b;
            border-radius: 12px; /* Daha yuvarlak scrollbar */
            border: 3px solid #0f172a; /* Scrollbar ve arkaplan arasÄ±nda boÅŸluk */
        }
        ::-webkit-scrollbar-track {
            background-color: #0f172a; /* Scrollbar yolu rengi */
        }

        /* Modal Stilleri */
        #productModal .glass {
            padding: 2rem;
        }
        #productModal button {
            color: #6b7280; /* Daha yumuÅŸak kapatma butonu rengi */
            background: none;
            border: none;
            font-size: 1.5rem;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        #productModal button:hover {
            opacity: 1;
        }

        /* Arama ve Filtreleme Input Stilleri */
        #searchInput, #categoryFilter {
            background-color: #1e293b;
            border: 1px solid #334155; /* Daha belirgin kenarlÄ±k */
            color: #f1f5f9;
            padding: 1rem; /* Ä°Ã§ boÅŸluk */
            border-radius: 0.75rem;
            transition: border-color 0.2s;
        }

        #searchInput:focus, #categoryFilter:focus {
            border-color: #f1f5f9; /* OdaklandÄ±ÄŸÄ±nda kenarlÄ±k rengi */
            outline: none; /* TarayÄ±cÄ± varsayÄ±lan odaÄŸÄ± kaldÄ±rÄ±r */
            box-shadow: 0 0 0 2px rgba(241, 245, 249, 0.2); /* YumuÅŸak odak gÃ¶lgesi */
        }


    </style>
</head>
<body class="min-h-screen font-sans antialiased">

    <div id="splash-screen">
        <img src="https://via.placeholder.com/150" alt="Murat Bilgisayar Logo" class="splash-logo">
        <div class="splash-spinner"></div>
    </div>
    <header class="text-center py-12">
        <h1 class="text-4xl font-extrabold tracking-tight text-white">
            <i class="fas fa-laptop-code mr-2"></i> Murat Bilgisayar
        </h1>
        <p class="mt-3 text-xl text-gray-300 italic">Antalya Ä°kinci El Bilgisayar & Teknik Servis</p>
        <p class="text-lg mt-1 text-gray-400">Teknolojik, modern ve gÃ¼venilir Ã§Ã¶zÃ¼mler.</p>
    </header>

    <main class="container mx-auto px-6 pb-12">

        <section id="slider" class="w-full overflow-hidden rounded-3xl shadow-md mb-12">
            </section>

        <div class="flex flex-col md:flex-row justify-between items-center mb-10 space-y-4 md:space-y-0 md:space-x-4">
            <div class="relative w-full md:w-1/2">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-search text-gray-500"></i>
                </div>
                <input id="searchInput" type="text" class="pl-10 w-full" placeholder="ÃœrÃ¼n Ara...">
            </div>
            <div class="w-full md:w-1/4">
                <select id="categoryFilter" class="w-full">
                    <option value="">TÃ¼m Kategoriler</option>
                    <option value="Laptop">Laptop</option>
                    <option value="Gaming Laptop">Gaming Laptop</option>
                    <option value="Ekran KartÄ±">Ekran KartÄ±</option>
                    <option value="RAM">RAM</option>
                    <option value="Anakart">Anakart</option>
                </select>
            </div>
        </div>


        <section id="hot-products-section">
            <h2 class="section-title">ðŸ”¥ SÄ±cak ÃœrÃ¼nler</h2>
            <div id="hotProducts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                </div>
        </section>

        <section id="all-products-section" class="mt-16">
            <h2 class="section-title">ðŸ’» TÃ¼m ÃœrÃ¼nler</h2>
            <div id="allProducts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                </div>
        </section>
    </main>

    <div id="productModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden">
        <div class="bg-white text-black rounded-3xl p-8 max-w-lg w-full relative glass">
            <button onclick="closeModal()" class="absolute top-3 right-3">
                <i class="fas fa-times-circle"></i>
            </button>
            <img id="modalImage" class="rounded-2xl w-full mb-6" alt="ÃœrÃ¼n GÃ¶rseli">
            <h3 id="modalTitle" class="text-3xl font-bold mb-3"></h3>
            <p id="modalDescription" class="text-gray-700 leading-relaxed"></p>
            <p id="modalPrice" class="text-2xl font-semibold text-green-700 mt-5">
                <i class="fas fa-tag mr-1"></i> <span id="modalPriceValue"></span>
            </p>
            <p class="text-sm text-gray-500 mt-2">
                <a href="tel:05330277258" class="text-blue-600 hover:underline">
                    <i class="fas fa-phone mr-1"></i> DetaylÄ± bilgi iÃ§in arayÄ±n!
                </a>
            </p>
        </div>
    </div>

    <script>
        const API_BASE = 'https://script.google.com/macros/s/AKfycbwsmTdlj_ZnS8qfLZDCREFrQLewBWnJipeRaowcMDZABRud6NKfF_0SWqIBQTUMeqDf/exec';
        const splashScreen = document.getElementById('splash-screen');

        async function fetchData(endpoint) {
            const res = await axios.get(`${API_BASE}${endpoint}`);
            return res.data;
        }

        function renderSlider(sliderData) {
            const slider = document.getElementById('slider');
            if (!sliderData || sliderData.length === 0) {
                slider.innerHTML = '<p class="text-center py-10">Slider iÃ§eriÄŸi bulunamadÄ±.</p>';
                return;
            }
            const sliderInner = document.createElement('div');
            sliderInner.className = 'relative w-full h-72 rounded-3xl overflow-hidden';
            slider.appendChild(sliderInner);

            sliderData.forEach(url => {
                const img = document.createElement('img');
                img.src = url.fotoÄŸrafurl;
                img.className = 'w-full h-72 object-cover absolute transition-opacity duration-500 opacity-0';
                sliderInner.appendChild(img);
            });

            let slideIndex = 0;
            const slides = sliderInner.querySelectorAll('img');
            slides[slideIndex].classList.add('opacity-100');

            setInterval(() => {
                slides[slideIndex].classList.remove('opacity-100');
                slideIndex = (slideIndex + 1) % slides.length;
                slides[slideIndex].classList.add('opacity-100');
            }, 5000); // 5 saniyede bir deÄŸiÅŸir
        }


        function renderProducts(products, containerId) {
            const container = document.getElementById(containerId);
            if (!products || products.length === 0) {
                container.innerHTML = '<p class="text-center col-span-full py-6">ÃœrÃ¼n bulunamadÄ±.</p>';
                return;
            }
            container.innerHTML = products.map(p => `
                <div class="product-card glass rounded-3xl shadow-md cursor-pointer overflow-hidden" onclick="showModal('${p.Ã¼rÃ¼nismi}', '${p.Ã¼rÃ¼nresmiurl}', '${p.fiyat}', '${p.Ã¼rÃ¼naÃ§Ä±klamasÄ±}')">
                    <img src="${p.Ã¼rÃ¼nresmiurl}" class="w-full h-56 object-cover rounded-t-3xl">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 truncate">${p.Ã¼rÃ¼nismi}</h3>
                        <p class="text-green-500 text-lg font-bold"><i class="fas fa-lira-sign mr-1"></i>${p.fiyat} TL</p>
                    </div>
                </div>
            `).join('');
        }

        function showModal(title, image, price, description) {
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalImage').src = image;
            document.getElementById('modalPriceValue').innerText = `${price} TL`;
            document.getElementById('modalDescription').innerText = description;
            document.getElementById('productModal').classList.remove('hidden');
            document.body.classList.add('overflow-hidden'); // Modal aÃ§Ä±ldÄ±ÄŸÄ±nda scroll'u engelle
        }

        function closeModal() {
            document.getElementById('productModal').classList.add('hidden');
            document.body.classList.remove('overflow-hidden'); // Scroll'u tekrar aktif et
        }

        async function init() {
            // Splash screen 1.5 saniye gÃ¶sterildikten sonra iÃ§eriÄŸi yÃ¼kle
            setTimeout(async () => {
                const slider = await fetchData('?sheet=slider');
                renderSlider(slider);

                const hotProducts = await fetchData('?sheet=sicakurunler');
                renderProducts(hotProducts, 'hotProducts');

                const allProducts = await fetchData('?sheet=tumurunler');
                renderProducts(allProducts, 'allProducts');

                splashScreen.classList.add('hidden'); // Splash screen'i kaldÄ±r
            }, 1500); // 1.5 saniye (1500 milisaniye)

        }

        document.getElementById('searchInput').addEventListener('input', async (e) => {
            const searchValue = e.target.value;
            const allProducts = await fetchData(`?sheet=tumurunler&search=${searchValue}`);
            renderProducts(allProducts, 'allProducts');
        });

        document.getElementById('categoryFilter').addEventListener('change', async (e) => {
            const category = e.target.value;
            const allProducts = await fetchData(`?sheet=tumurunler&category=${category}`);
            renderProducts(allProducts, 'allProducts');
        });

        window.onload = init;
    </script>
</body>
</html>
